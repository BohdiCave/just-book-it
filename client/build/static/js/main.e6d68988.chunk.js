(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{27:function(e,t,a){e.exports=a(57)},32:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),o=(a(32),a(7)),i=a(1),u=a(8),m=a(10),s=a.n(m),E="&printType=books&key=".concat("AIzaSyCEhA1pj3Ue--vnEykPUsJWJ9lOIdJEQAE"),d=function(e){return s.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+E)},f=function(){return s.a.get("/api/books")},h=function(e){return s.a.delete("/api/books/"+e)},p=function(e){return s.a.post("/api/books",e)};function v(){var e=Object(i.f)().pathname;return l.a.createElement("header",null,l.a.createElement("h1",null,"Just Book It!"),"/books"===e||"/"===e?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Search the new Google Books API"),l.a.createElement("span",null,l.a.createElement("a",{href:"/saved"},"View Saved Books"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Saved books"),l.a.createElement("span",null,l.a.createElement("a",{href:"/"},"Search for more books"))))}function b(){return l.a.createElement("footer",null,l.a.createElement("p",null,"Made with ",l.a.createElement("span",{role:"img","aria-label":"heart emoji"}," \u2764\ufe0f ")," by ",l.a.createElement("a",{href:"https://bohdicave.github.io"}," BohdiCave ")))}function g(e){var t=e.input;return l.a.createElement("section",{id:"search-form"},l.a.createElement("form",null,l.a.createElement("input",{onChange:t,name:"title",placeholder:"Search in title"}),l.a.createElement("input",{onChange:t,name:"author",placeholder:"Search in author"})))}function k(e){var t=Object(i.f)().pathname;return l.a.createElement(l.a.Fragment,null,"/"===t||"/books"===t?l.a.createElement("span",{id:e.id,className:e.name,onClick:e.action,role:"img","aria-label":"save-button",tabIndex:"0"},"\ud83d\udcbe"):"/saved"===t&&l.a.createElement("span",{id:e.id,className:e.name,onClick:e.action,role:"img","aria-label":"delete-button",tabIndex:"0"},"\u274c"))}function j(e){var t=Object(i.f)().pathname;return l.a.createElement("div",{className:"card",id:e.id},l.a.createElement("div",{className:"card-header"},l.a.createElement(o.b,{to:e.link},l.a.createElement("h3",null,e.title)),l.a.createElement("h4",null,"by ",e.authors)),l.a.createElement("div",{className:e.description?"card-body row":"card-body"},l.a.createElement("img",{src:e.image,alt:"Cover of ".concat(e.title)}),l.a.createElement("p",null,e.description),l.a.createElement("div",{id:"buttons"},"/"===t||"/books"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{name:"save",action:e.save,id:e.id}),l.a.createElement("p",{className:"hide"},"Book saved!")):l.a.createElement(k,{name:"delete",action:e.delete,id:e.id}))))}function O(e){Object(i.f)().pathname;var t=e.books||e.savedBooks;return l.a.createElement("section",{id:"search-results"},t.length?t.map((function(t){return l.a.createElement(j,{key:t._id,id:t._id,title:t.title,authors:t.authors,description:t.description,image:t.image,link:t.link,save:e.save,delete:e.delete})})):l.a.createElement("h3",null,"No Results to Display"))}function y(e){var t=Object(i.f)().pathname;return l.a.createElement(l.a.Fragment,null,"/"===t&&l.a.createElement(g,{input:e.input}),l.a.createElement(O,e))}var S=function(e,t){var a=Object(n.useState)(e),l=Object(u.a)(a,2),r=l[0],c=l[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),r};function I(){var e=Object(n.useState)("inauthor:poe"),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(!1),E=Object(u.a)(s,2),f=(E[0],E[1]);var h=S(a,500);return Object(n.useEffect)((function(){h&&(f(!0),d(h).then((function(e){f(!1),console.log(e),m(e.data.items.map((function(e){return{_id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors[0],description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.selfLink}})))})).catch((function(e){return console.log(e)})))}),[h]),l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(y,{input:function(e){var t=e.target,a=t.name,n=t.value;"title"===a&&r("intitle:"+n),"author"===a&&r("inauthor:"+n)},save:function(e){var t;e.preventDefault();for(var a=e.target.getAttribute("id"),n=0;n<i.length;n++)i[n]._id===a&&(t=i[n]);p(t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},books:i}),l.a.createElement(b,null))}function F(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){f().then((function(e){console.log(e),r(e.data)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(y,{savedBooks:a,delete:function(e){e.preventDefault();var t=e.target.id;h(t).then((function(e){f().then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}),l.a.createElement(b,null))}var w=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement("div",null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))),l.a.createElement(b,null))};a(56);var B=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:["/"]},l.a.createElement(I,null)),l.a.createElement(i.a,{exact:!0,path:"/saved"},l.a.createElement(F,null)),l.a.createElement(i.a,null,l.a.createElement(w,null)))))};c.a.render(l.a.createElement(B,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.e6d68988.chunk.js.map