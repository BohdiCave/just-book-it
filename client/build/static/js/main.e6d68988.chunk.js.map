{"version":3,"sources":["utils/API.js","components/Header.js","components/Footer.js","components/SearchForm.js","components/Btn.js","components/Card.js","components/SearchResults.js","components/Main.js","utils/debounceHook.js","pages/Search.js","pages/Saved.js","pages/NoMatch.js","App.js","index.js"],"names":["APIKEY","process","search","axios","get","id","delete","bookData","post","Header","address","useLocation","pathname","href","Footer","role","aria-label","SearchForm","input","onChange","name","placeholder","Btn","props","className","onClick","action","tabIndex","Card","to","link","title","authors","description","src","image","alt","save","SearchResults","books","savedBooks","length","map","book","key","_id","Main","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","Search","setSearch","setBooks","setIsSearching","debouncedSearchTerm","API","then","res","console","log","data","items","item","volumeInfo","imageLinks","thumbnail","selfLink","catch","err","event","target","preventDefault","getAttribute","i","Saved","setSavedBooks","NoMatch","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6d68988.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes?q=\";\r\nconst APIKEY = `&printType=books&key=${process.env.REACT_APP_GB_API_KEY}`;  \r\n\r\nexport default {\r\n  // Gets results from Google Books\r\n  getGB: search => axios.get(BASEURL + search + APIKEY),\r\n  // Get all books from DB\r\n  getBooks: () => {\r\n    return axios.get(\"/api/books\");\r\n  },\r\n  // Gets the book with the given id\r\n  getBook: (id) => {\r\n    return axios.get(\"/api/books/\" + id);\r\n  },\r\n  // Deletes the book with the given id\r\n  deleteBook: (id) => {\r\n    return axios.delete(\"/api/books/\" + id);\r\n  },\r\n  // Saves a book to the database\r\n  saveBook: (bookData) => {\r\n    return axios.post(\"/api/books\", bookData);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nexport default function Header() {\r\n    const location = useLocation();\r\n    const address = location.pathname;\r\n    return(\r\n        <header>\r\n            <h1>Just Book It!</h1>\r\n            {address==='/books' || address==='/' \r\n            ? (<>\r\n                <h2>Search the new Google Books API</h2>\r\n                <span><a href=\"/saved\">View Saved Books</a></span>\r\n            </>) : (<>\r\n                <h2>Saved books</h2>\r\n                <span><a href=\"/\">Search for more books</a></span>\r\n            </>) \r\n            }\r\n        </header>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Footer() {\r\n    return(\r\n        <footer>\r\n            <p>Made with <span role=\"img\" aria-label=\"heart emoji\"> ‚ù§Ô∏è </span> by <a href=\"https://bohdicave.github.io\"> BohdiCave </a></p>\r\n        </footer>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function SearchForm({input}) {\r\n    return(\r\n        <section id=\"search-form\">\r\n            <form>                 \r\n                <input onChange={input} name=\"title\" placeholder=\"Search in title\" />\r\n                <input onChange={input} name=\"author\" placeholder=\"Search in author\" />\r\n            </form>\r\n        </section>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nexport default function Btn(props) {\r\n  const location = useLocation();\r\n  const address = location.pathname;\r\n\r\n  return (\r\n    <>\r\n    {address===\"/\" || address===\"/books\" ?\r\n      (<span id={props.id} className={props.name} onClick={props.action} role=\"img\" aria-label=\"save-button\" tabIndex=\"0\">\r\n        üíæ  \r\n      </span>)\r\n    : address===\"/saved\" && \r\n      (<span id={props.id} className={props.name} onClick={props.action} role=\"img\" aria-label=\"delete-button\" tabIndex=\"0\">\r\n        ‚ùå\r\n      </span>)\r\n    }\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport {Link, useLocation} from 'react-router-dom';\r\nimport Btn from './Btn';\r\n\r\nexport default function Card(props) {\r\n    const location = useLocation();\r\n    const address = location.pathname;\r\n    return(\r\n        <div className=\"card\" id={props.id}>\r\n            <div className=\"card-header\">\r\n                <Link to={props.link}>\r\n                    <h3>{props.title}</h3>\r\n                </Link>\r\n                <h4>by {props.authors}</h4>\r\n            </div>\r\n            <div className={props.description ? \"card-body row\" : \"card-body\"}>\r\n                <img src={props.image} alt={`Cover of ${props.title}`}/>\r\n                <p>{props.description}</p>\r\n                <div id=\"buttons\">\r\n                    {address===\"/\" || address===\"/books\" ? \r\n                    (<><Btn name=\"save\" action={props.save} id={props.id} />\r\n                    <p className=\"hide\">Book saved!</p></>)\r\n                    : <Btn name=\"delete\" action={props.delete} id={props.id} />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport Card from './Card';\r\n\r\nexport default function SearchResults(props) {\r\n    const location = useLocation();\r\n    const address = location.pathname;\r\n    \r\n    const books = props.books || props.savedBooks;\r\n    \r\n    return(\r\n        <section id=\"search-results\">\r\n            {books.length ? \r\n                (books.map(book => \r\n                    <Card key={book._id}\r\n                        id={book._id} \r\n                        title={book.title}\r\n                        authors={book.authors}\r\n                        description={book.description}\r\n                        image={book.image}\r\n                        link={book.link}\r\n                        save={props.save}\r\n                        delete={props.delete}\r\n                    />\r\n                )) \r\n            : (<h3>No Results to Display</h3>)\r\n            } \r\n        </section>\r\n    );\r\n}","import React from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport SearchForm from './SearchForm';\r\nimport SearchResults from './SearchResults';\r\n\r\nexport default function Main(props) {\r\n    const location = useLocation();\r\n    const address = location.pathname;\r\n\r\n    return(\r\n        <>\r\n        {address===\"/\" \r\n        && <SearchForm input={props.input}/>}\r\n        <SearchResults {...props} />\r\n        </>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst useDebounce = (value, delay) => {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n  useEffect(\r\n    () => {\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n      // Cancel the timeout if value or delay changes\r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    // Only call the effect if value or delay changes.\r\n    [value, delay]\r\n  );\r\n\r\n  return debouncedValue;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default useDebounce;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../utils/API\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport Main from \"../components/Main\";\r\nimport useDebounce from \"../utils/debounceHook\";\r\n\r\nexport default function Search() {\r\n  // Setting our component's initial state\r\n  const [search, setSearch] = useState(\"inauthor:poe\");\r\n  const [books, setBooks] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n\r\n  // Handles updating component state when the user types into the input field\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n    if (name===\"title\") {\r\n      setSearch(\"intitle:\"+value);\r\n    }  \r\n    if (name===\"author\") {\r\n      setSearch(\"inauthor:\"+value);\r\n    }\r\n  };\r\n\r\n  const debouncedSearchTerm = useDebounce(search, 500);\r\n\r\n  useEffect(() => {\r\n    \r\n    if (debouncedSearchTerm) {\r\n      setIsSearching(true);\r\n      // Making a call to Google Books API\r\n      API.getGB(debouncedSearchTerm)\r\n        .then(res => {\r\n          setIsSearching(false);\r\n          console.log(res);\r\n          setBooks(res.data.items.map(item => \r\n            item = {\r\n              _id: item.id,\r\n              title: item.volumeInfo.title,\r\n              authors: item.volumeInfo.authors[0],\r\n              description: item.volumeInfo.description,\r\n              image: item.volumeInfo.imageLinks.thumbnail,\r\n              link: item.selfLink\r\n            }));\r\n          })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, [debouncedSearchTerm]);\r\n\r\n\r\n  // When the \"save\" button is pushed, use the API.saveBook method,\r\n  // save the book data from the search results to the database, \r\n  // then stay on the search page, but activate the \"saved\" page link.\r\n  function handleBookSave(event) {\r\n    event.preventDefault();\r\n    let bookData; \r\n    const btn = event.target;\r\n    const id = btn.getAttribute(\"id\");\r\n    for (let i = 0; i < books.length; i++) {\r\n      if (books[i]._id === id) { \r\n        bookData = books[i];\r\n      }\r\n    }\r\n    API.saveBook(bookData)        \r\n      .then(res => { \r\n        console.log(res);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n    <Main \r\n        input={handleInputChange}\r\n        save={handleBookSave}\r\n        books={books}\r\n        />\r\n    <Footer/>\r\n    </>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../utils/API\";\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport Main from '../components/Main';\r\n\r\nexport default function Saved() {\r\n\r\n    // Setting our component's initial state\r\n    const [savedBooks, setSavedBooks] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Getting saved books from the database\r\n        API.getBooks()\r\n            .then(res => {\r\n              console.log(res);\r\n              setSavedBooks(res.data);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    // Loads saved books \r\n    function loadSaved() {\r\n        API.getBooks()\r\n        .then(res => \r\n            setSavedBooks(res.data)\r\n        )\r\n        .catch(err => console.log(err));\r\n    };\r\n    \r\n    // Deletes a book from the database with a given id, then reloads books from the db\r\n    function handleBookDelete(event) {\r\n        event.preventDefault();\r\n        const btn = event.target;\r\n        const id = btn.id;\r\n        API.deleteBook(id)\r\n            .then(res => loadSaved())\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Header/>\r\n        <Main \r\n            savedBooks={savedBooks} \r\n            delete={handleBookDelete}\r\n            />\r\n        <Footer/>\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <>\r\n    <Header/>\r\n      <div>\r\n        <h1>404 Page Not Found</h1>\r\n        <h1>\r\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\r\n            üôÑ\r\n          </span>\r\n        </h1>\r\n      </div>\r\n    <Footer/>\r\n    </>        \r\n  );\r\n}\r\n\r\nexport default NoMatch;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Search from \"./pages/Search\";\r\nimport Saved from \"./pages/Saved\";\r\nimport NoMatch from \"./pages/NoMatch\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <Route exact path={[\"/\"]}>\r\n            <Search />\r\n          </Route>\r\n          <Route exact path=\"/saved\">\r\n            <Saved />\r\n          </Route>\r\n          <Route>\r\n            <NoMatch />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />, \r\n    document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}